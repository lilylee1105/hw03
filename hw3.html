<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <title>d3-start</title>
    <script src="https://d3js.org/d3.v3.js"></script>
    <style>
        div {
            font-size: 7px;
        }
    </style>
</head>

<body>
    <svg width="400" height="600">

    </svg>

    <script>
        d3.json("invoice-taipei.json", function (dataSet) {
            var svg = d3.select("svg");
            var count = 0;
//            var tmp=dataSet[i].amount / 100000000;
            for (var i = 0; i < dataSet.length; i++) {
                if (dataSet[i].amount > 1000000000 && dataSet[i].date === "2016/8/1" && dataSet[i].cid === "A") {
                    d3.select("svg")
                        .append("rect")
                        .attr({
                            x: 200,
                            y: 10 + 14 * count, //count在y用得到
                            width: dataSet[i].amount / 100000000,
                            height: 10,
                            fill: "red"
                        });
//                    d3.select("svg").append("text").attr({
//                        x: tmp+15,
//                        y: 10 + 2 * i,
//                        fill: "black",
//                        "font-size": 12,
//                    }).text(tmp);
//                    
                    d3.select("svg").append("text").attr({
                        x: 0,
                        y: 16 + 14 * count,
                        "font-size": 5
                    }).text(dataSet[i].industry); //行業
                    count++; //count=count+1
                }

            }
        });
    </script>
</body>

</html>